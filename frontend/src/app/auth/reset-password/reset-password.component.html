<div id="container" class="d-flex justify-content-center align-items-center">

  @if(!showForm()){
    <form #emailForm="ngForm" (ngSubmit)="onEmailSubmit(emailForm)" class="d-flex flex-column gap-1 align-items-center justify-content-center">
      <h1>Reset password</h1>
      @if(errorMessage()){<div>{{errorMessage()}}</div>}

      <mat-form-field>
        <mat-label>Email</mat-label>
        <input matInput type="text" name="email" [ngModel]="email()"  (ngModelChange)="emailChanged($event)" placeholder="email/username" required>
      </mat-form-field>
      <button type="submit" mat-raised-button color="primary">submit</button>
    </form>
  }
  @else{
    <form #passwordForm="ngForm" (ngSubmit)="onPasswordSubmit(passwordForm)" class="d-flex flex-column gap-1 align-items-center justify-content-center">
      <h1>Reset password</h1>
      <p>We sent a verification code to your email.The code expires in 30 minutes!</p>
      @if(errorMessage()){<div>{{errorMessage()}}</div>}
      @if(message()){<div>{{message()}}</div>}

      <mat-form-field>
        <mat-label>Verification code</mat-label>
        <input matInput type="text" name="code" [ngModel]="resetPasswordRequest().code"  (ngModelChange)="codeChanged($event)" placeholder="code" required>
      </mat-form-field>

      <mat-form-field>
        <mat-label>New password</mat-label>
        <input matInput type="password" name="newPassword" [ngModel]="resetPasswordRequest().newPassword"  (ngModelChange)="newPasswordChanged($event)" placeholder="password" required>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Confirm password</mat-label>
        <input matInput type="password" name="confirmPassword" [ngModel]="resetPasswordRequest().confirmPassword"  (ngModelChange)="confirmPasswordChanged($event)" placeholder="confirm password" required>
      </mat-form-field>

      <button type="submit" mat-raised-button color="primary">submit</button>
      <div>
        <span>Didn't get an email?</span>
        <button type="button" (click)="resendEmail()" mat-button color="primary">resend email</button>
      </div>
    </form>
  }


</div>
